let productData=[
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/69504470_000_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Designer Handbag",
        price:"130",
        category:"Bestselling",
        productID:"dress1"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/69641124_053_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bangles Twin",
        price:"65",
        category:"Newest",
        productID:"dress2"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/70041389_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Hnad Cover Gloves",
        price:"40",
        category:"Party",
        productID:"dress3"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/65178998_065_b2?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bracelet",
        price:"55",
        category:"Casual",
        productID:"dress4"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/70361597_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Stylish Glasses",
        price:"90",
        category:"Bestselling",
        productID:"dress5"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/69770279_070_b4?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Shiner Handbag",
        price:"145",
        category:"Newest",
        productID:"dress6"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/76087782_041_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Navy Scarf",
        price:"70",
        category:"Party",
        productID:"dress7"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/78192739_070_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Gold Plated Bracelet",
        price:"230",
        category:"Casual",
        productID:"dress8"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/68999861_014_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Crafted Handbag",
        price:"120",
        category:"Bestselling",
        productID:"dress9"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/68949643_270_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Crafted Designer Hat",
        price:"80",
        category:"Newest",
        productID:"dress10"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/65658387_014_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Designer Handbag",
        price:"135",
        category:"Party",
        productID:"dress11"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67039693_008_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Printed Scarf Olive",
        price:"78",
        category:"Casual",
        productID:"dress12"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67673830_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Pink Carry Bag",
        price:"50",
        category:"Bestselling",
        productID:"dress13"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/56880198_065_a?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Designer Crafted Ring",
        price:"270",
        category:"Newest",
        productID:"dress14"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/65503096_068_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Hnadcrafted Earloops",
        price:"125",
        category:"Party",
        productID:"dress15"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/61662573_007_b1?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Silver Head Pins",
        price:"70",
        category:"Casual",
        productID:"dress16"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/69518835_070_b2?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Plated Necklace",
        price:"215",
        category:"Bestselling",
        productID:"dress17"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/55074405_070_a?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Plated Earrings",
        price:"150",
        category:"Newest",
        productID:"dress18"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/63738249_017_b1?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Poly Earrings Plain",
        price:"90",
        category:"Party",
        productID:"dress19"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/66499005_070_b1?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:" Coated Hand Bracelet",
        price:"135",
        category:"Casual",
        productID:"dress20"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/66492638_037_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Printed Pattern Bracelet",
        price:"115",
        category:"Bestselling",
        productID:"dress21"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/59154211_070_b1?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"plain Head Pins ",
        price:"45",
        category:"Newest",
        productID:"dress22"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/65514481_048_b1?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Moda Handbag",
        price:"210",
        category:"Party",
        productID:"dress23"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/66132598_030_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Designer Keychain",
        price:"70",
        category:"Casual",
        productID:"dress24"
    },
]

document.querySelector("#product-header>div>p").innerText=productData.length+" products";

let cartLS=JSON.parse(localStorage.getItem("cart-page")) || [];

function generateProduct(productData){
    document.querySelector("#product-body").innerHTML="";
    productData.forEach(function(element){
        let card=document.createElement("div");
        card.setAttribute("class", "card");

        let image=document.createElement("img");
        image.setAttribute("src", element.image);

        let name=document.createElement("h3");
        name.innerText=element.name;

        let price=document.createElement("p");
        price.innerText="price : $ "+element.price;

        // let category=document.createElement("p");
        // category.innerText="Cattegory: "+element.category;

        let add=document.createElement("button");
        add.innerText="Add to cart";
        add.addEventListener("click", function(){
            if(addToCart(element.productID)===true){
                alert("Product added to cart sucessfully");
                cartLS.push(element);
                localStorage.setItem("cart-page", JSON.stringify(cartLS));
            }
            else alert("Product already int he cart");
        })

        card.append(image, name, price, add);
        document.querySelector("#product-body").append(card);
    })
}
generateProduct(productData);


let sorting=document.getElementById("sorting");
sorting.addEventListener("change", function(){
    if(sorting.value==="SortByRelevance") generateProduct(productData);
    else{
        let sorted=productData.filter(function(element){
            return element.category===sorting.value;
        })
        generateProduct(sorted);
    }
})


function addToCart(id){
    for(let i=0; i<cartLS.length; i++){
        if(cartLS[i].productID==id) return false;
    }
    return true;
}


