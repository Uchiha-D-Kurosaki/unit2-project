
let productData=[
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570018_009_b2?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Maxi Dress",
        price:"168",
        size:"S, M, L, XL",
        category:"Bestselling",
        productID: "dress1"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130728470001_069_b17?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Devotion Twins Dress",
        price:"239",
        size:"S, M, L, XL",
        category:"Newest",
        productID: "dress2"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4123650590131_211_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Maeve The Colette Pants",
        price:"120",
        size:"S, M, L, XL",
        category:"Party",
        productID: "dress3"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4110347800056_074_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Miranda Peasant Blouse",
        price:"128",
        size:"S, M, L, XL",
        category:"Casual",
        productID: "dress4"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160057_031_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Robin Tiered Mini Dress",
        price:"138",
        size:"S, M, L, XL",
        category:"Bestselling",
        productID: "dress5"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130646420031_069_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Mini Dress",
        price:"140",
        size:"S, M, L, XL",
        category:"Newest",
        productID: "dress6"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130652010001_070_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Elyse Bias Slip Dress",
        price:"120",
        size:"S, M, L, XL",
        category:"Party",
        productID: "dress7"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4112347800042_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bl-nk Stephanie Top",
        price:"108",
        size:"S, M, L, XL",
        category:"Casual",
        productID: "dress8"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130728470001_015_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Devotion Twins Tunic Dress",
        price:"239",
        size:"S, M, L, XL",
        category:"Bestselling",
        productID: "dress9"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4123650590131_060_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Maeve Wide-Leg Pants",
        price:"120",
        size:"S, M, L, XL",
        category:"Newest",
        productID: "dress10"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060072_063_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Maxi Dress",
        price:"170",
        size:"S, M, L, XL",
        category:"Party",
        productID: "dress11"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130264840011_040_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Mini Dress",
        price:"148",
        size:"S, M, L, XL",
        category:"Casual",
        productID: "dress12"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570014_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset: Mini Dress",
        price:"148",
        size:"S, M, L, XL",
        category:"Bestselling",
        productID: "dress13"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570013_010_c14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset: Linen",
        price:"210",
        size:"S, M, L, XL",
        category:"Newest",
        productID: "dress14"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130646420009_011_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Maxi Dress",
        price:"165",
        size:"S, M, L, XL",
        category:"Party",
        productID: "dress15"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130646420009_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Maxi Dress",
        price:"185",
        size:"S, M, L, XL",
        category:"Casual",
        productID: "dress16"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130728470001_029_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"T.La Flutter-Sleeved Tee",
        price:"48",
        size:"S, M, L, XL",
        category:"Bestselling",
        productID: "dress17"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4112609690111_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"T.La Classic V-Neck Tee",
        price:"58",
        size:"S, M, L, XL",
        category:"Newest",
        productID: "dress18"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4123650590131_025_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Colette Cropped Pants",
        price:"120",
        size:"S, M, L, XL",
        category:"Party",
        productID: "dress19"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4123650590131_018_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Maeve: Wide-Leg Pants",
        price:"100",
        size:"S, M, L, XL",
        category:"Casual",
        productID: "dress20"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160128_049_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Somerset: Poplin Edition",
        price:"140",
        size:"S, M, L, XL",
        category:"Bestselling",
        productID: "dress21"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4112347800042_050_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bl-nk Stephanie Top",
        price:"108",
        size:"S, M, L, XL",
        category:"Newest",
        productID: "dress22"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4112368730048_027_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Elyse Bias Slip Dress",
        price:"235",
        size:"S, M, L, XL",
        category:"Party",
        productID: "dress23"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060072_046_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Maxi Dress",
        price:"170",
        size:"S, M, L, XL",
        category:"Casual",
        productID: "dress24"
    },
];

document.querySelector("#product-header>div>p").innerText=productData.length+" products";

let cartLS=JSON.parse(localStorage.getItem("cart-page")) || [];

function generateProduct(productData){
    document.querySelector("#product-body").innerHTML="";
    productData.forEach(function(element){
        let card=document.createElement("div");
        card.setAttribute("class", "card");

        let image=document.createElement("img");
        image.setAttribute("src", element.image);

        let name=document.createElement("h3");
        name.innerText=element.name;

        let price=document.createElement("p");
        price.innerText="price : $ "+element.price;

        // let category=document.createElement("p");
        // category.innerText="Cattegory: "+element.category;

        let add=document.createElement("button");
        add.innerText="Add to cart";
        add.addEventListener("click", function(){
            if(addToCart(element.productID)===true){
                alert("Product added to cart sucessfully");
                cartLS.push(element);
                localStorage.setItem("cart-page", JSON.stringify(cartLS));
            }
            else alert("Product already int he cart");
        })

        card.append(image, name, price, add);
        document.querySelector("#product-body").append(card);
    })
}
generateProduct(productData);


let sorting=document.getElementById("sorting");
sorting.addEventListener("change", function(){
    if(sorting.value==="SortByRelevance") generateProduct(productData);
    else{
        let sorted=productData.filter(function(element){
            return element.category===sorting.value;
        })
        generateProduct(sorted);
    }
})


function addToCart(id){
    for(let i=0; i<cartLS.length; i++){
        if(cartLS[i].productID==id) return false;
    }
    return true;
}


