let productData=[
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130348690171_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Maxi Dress",
        price:"170",
        category:"Bestselling",
        productID:"dress1"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130264840011_040_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Robin Tiered Mini Dress",
        price:"210",
        category:"Newest",
        productID:"dress2"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570014_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Sweetheart Midi Dress",
        price:"165",
        category:"Party",
        productID:"dress3"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130728470001_034_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"The Somerset Mini Dress",
        price:"140",
        category:"Casual",
        productID:"dress4"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160137_069_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Tiered Ruffled Mini Dress",
        price:"260",
        category:"Bestselling",
        productID:"dress5"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060072_083_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Elyse Bias Slip Dress",
        price:"175",
        category:"Newest",
        productID:"dress6"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130916210042_040_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Robin Tiered Mini Dress",
        price:"115",
        category:"Party",
        productID:"dress7"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060048_040_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Farm Rio Halter Maxi Dress",
        price:"195",
        category:"Casual",
        productID:"dress8"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060077_070_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"V-Neck Plunge Tunic Mini Dress",
        price:"215",
        category:"Bestselling",
        productID:"dress9"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060076_095_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Elyse Bias Slip Dress",
        price:"275",
        category:"Newest",
        productID:"dress10"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130526830093_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Pilcro Puff-Sleeve Tunic",
        price:"180",
        category:"Party",
        productID:"dress11"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570013_014_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Emily Halter Mini Dress",
        price:"130",
        category:"Casual",
        productID:"dress12"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130646420009_066_b14?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Halter Side-Slit Maxi Dress",
        price:"274",
        category:"Bestselling",
        productID:"dress13"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130646420009_011_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Pilcro Puff-Sleeve Tunic",
        price:"168",
        category:"Newest",
        productID:"dress14"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130348690173_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Maeve Cross-Back Mini Dress",
        price:"235",
        category:"Party",
        productID:"dress15"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130728470001_065_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Emily Halter Mini Dress",
        price:"145",
        category:"Casual",
        productID:"dress16"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130728470001_069_b16?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Pilcro Puff-Sleeve Tunic",
        price:"190",
        category:"Bestselling",
        productID:"dress17"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130370060072_046_c?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Maeve Cross-Back Mini Dress",
        price:"260",
        category:"Newest",
        productID:"dress18"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160128_009_c?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Braided Halter Mini Dress",
        price:"245",
        category:"Party",
        productID:"dress19"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160128_049_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Emily Halter Mini Dress",
        price:"115",
        category:"Casual",
        productID:"dress20"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570013_072_c?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Pilcro Puff-Sleeve Tunic",
        price:"145",
        category:"Bestselling",
        productID:"dress21"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160057_068_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Braided Halter Mini Dress",
        price:"180",
        category:"Newest",
        productID:"dress22"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130647160128_069_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Emily Halter Mini Dress",
        price:"215",
        category:"Party",
        productID:"dress23"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/4130578570014_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Pilcro Puff-Sleeve Tunic",
        price:"165",
        category:"Casual",
        productID:"dress24"
    },
]

document.querySelector("#product-header>div>p").innerText=productData.length+" products";

let cartLS=JSON.parse(localStorage.getItem("cart-page")) || [];

function generateProduct(productData){
    document.querySelector("#product-body").innerHTML="";
    productData.forEach(function(element){
        let card=document.createElement("div");
        card.setAttribute("class", "card");

        let image=document.createElement("img");
        image.setAttribute("src", element.image);

        let name=document.createElement("h3");
        name.innerText=element.name;

        let price=document.createElement("p");
        price.innerText="price : $ "+element.price;

        // let category=document.createElement("p");
        // category.innerText="Cattegory: "+element.category;

        let add=document.createElement("button");
        add.innerText="Add to cart";
        add.addEventListener("click", function(){
            if(addToCart(element.productID)===true){
                alert("Product added to cart sucessfully");
                cartLS.push(element);
                localStorage.setItem("cart-page", JSON.stringify(cartLS));
            }
            else alert("Product already int he cart");
        })

        card.append(image, name, price, add);
        document.querySelector("#product-body").append(card);
    })
}
generateProduct(productData);


let sorting=document.getElementById("sorting");
sorting.addEventListener("change", function(){
    if(sorting.value==="SortByRelevance") generateProduct(productData);
    else{
        let sorted=productData.filter(function(element){
            return element.category===sorting.value;
        })
        generateProduct(sorted);
    }
})


function addToCart(id){
    for(let i=0; i<cartLS.length; i++){
        if(cartLS[i].productID==id) return false;
    }
    return true;
}


