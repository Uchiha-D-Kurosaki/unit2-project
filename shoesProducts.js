let productData=[
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/60058286_020_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"TKEES Jo Sandals",
        price:"135",
        category:"Bestselling",
        productID:"dress1"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/60385945_009_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Hina Heels",
        price:"115",
        category:"Newest",
        productID:"dress2"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/65368508_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Matisse Scorpio Ballet",
        price:"210",
        category:"Party",
        productID:"dress3"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/64998826_012_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Fringed Rope Sandals",
        price:"175",
        category:"Casual",
        productID:"dress4"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/63060966_016_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bernardo Sophia Clogs",
        price:"",
        category:"Bestselling",
        productID:"dress5"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/68947142_071_b2?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Angieh Heels",
        price:"235",
        category:"Newest",
        productID:"dress6"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/68542190_066_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bernardo Sochi Clogs",
        price:"140",
        category:"Party",
        productID:"dress7"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/68774272_085_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Transparent Zebra Sandals",
        price:"170",
        category:"Casual",
        productID:"dress8"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/66043126_048_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Tie-Up Thong Sandals",
        price:"260",
        category:"Bestselling",
        productID:"dress9"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/66043233_055_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"K-Swiss Classic Sneakers",
        price:"155",
        category:"Newest",
        productID:"dress10"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67128207_015_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bibi Lou Aoi Heels",
        price:"185",
        category:"Party",
        productID:"dress11"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67105452_059_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Vicenza Metallic Mules",
        price:"130",
        category:"Casual",
        productID:"dress12"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/78156692_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"CAVERLEY Mazie Heels",
        price:"220",
        category:"Bestselling",
        productID:"dress13"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67127993_018_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Ash Goa Sneakers",
        price:"160",
        category:"Newest",
        productID:"dress14"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67060301_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Lou Lo Heels",
        price:"185",
        category:"Party",
        productID:"dress15"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/69422574_012_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Posseni Heels",
        price:"215",
        category:"Casual",
        productID:"dress16"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/59826149_009_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Melissa Papete Sandals",
        price:"165",
        category:"Bestselling",
        productID:"dress17"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67745745_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Vicenza Metallic Mules",
        price:"130",
        category:"Newest",
        productID:"dress18"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/64783681_015_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Lou Lo Heels",
        price:"260",
        category:"Party",
        productID:"dress19"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/69331676_011_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Posseni Heels",
        price:"145",
        category:"Casual",
        productID:"dress20"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/64780224_000_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Bibi Lou Aoi Heels",
        price:"190",
        category:"Bestselling",
        productID:"dress21"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/60051281_021_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"CAVERLEY Mazie Heels",
        price:"165",
        category:"Newest",
        productID:"dress22"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/66982802_001_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Melissa Papete Sandals",
        price:"225",
        category:"Party",
        productID:"dress23"
    },
    {
        image:"https://images.urbndata.com/is/image/Anthropologie/67747220_018_b?$an-category$&fit=constrain&fmt=webp&hei=523&qlt=80&wid=349",
        name:"Schutz Lou Lo Heels",
        price:"175",
        category:"Casual",
        productID:"dress24"
    },
]

document.querySelector("#product-header>div>p").innerText=productData.length+" products";

let cartLS=JSON.parse(localStorage.getItem("cart-page")) || [];

function generateProduct(productData){
    document.querySelector("#product-body").innerHTML="";
    productData.forEach(function(element){
        let card=document.createElement("div");
        card.setAttribute("class", "card");

        let image=document.createElement("img");
        image.setAttribute("src", element.image);

        let name=document.createElement("h3");
        name.innerText=element.name;

        let price=document.createElement("p");
        price.innerText="price : $ "+element.price;

        // let category=document.createElement("p");
        // category.innerText="Cattegory: "+element.category;

        let add=document.createElement("button");
        add.innerText="Add to cart";
        add.addEventListener("click", function(){
            if(addToCart(element.productID)===true){
                alert("Product added to cart sucessfully");
                cartLS.push(element);
                localStorage.setItem("cart-page", JSON.stringify(cartLS));
            }
            else alert("Product already int he cart");
        })

        card.append(image, name, price, add);
        document.querySelector("#product-body").append(card);
    })
}
generateProduct(productData);


let sorting=document.getElementById("sorting");
sorting.addEventListener("change", function(){
    if(sorting.value==="SortByRelevance") generateProduct(productData);
    else{
        let sorted=productData.filter(function(element){
            return element.category===sorting.value;
        })
        generateProduct(sorted);
    }
})


function addToCart(id){
    for(let i=0; i<cartLS.length; i++){
        if(cartLS[i].productID==id) return false;
    }
    return true;
}


